## ElectronRPC - Асинхронная Очередь

### Что это?

Реализация очереди асинхронных задач для пакетов Electron RPC, но может использоваться и в других проектах.

### Установка

```bash
# Через NPM
npm install electron-rpc-async-queue --save
# Или через Yarn
yarn add electron-rpc-async-queue --save
```

### API

#### `interface TaskBody<A extends any[] = any[], R = any>`

Сигнатура функции, которая должна быть поставлена в очередь на выполнение - тело задачи.

###### Аргументы-типы

| Имя | Расширяет | По умолчанию | Описание                        |
| --- | --------- | ------------ | ------------------------------- |
| A   | `any[]`   | `any[]`      | Кортеж типов аргументов функции |
| R   | -         | `any`        | Тип возвращаемого значения      |

#### `interface TaskResult<A extends any[] = any[], R = any>`

Результат выполнения задачи

###### Аргументы-типы

| Имя | Расширяет | По умолчанию | Описание                               |
| --- | --------- | ------------ | -------------------------------------- |
| A   | `any[]`   | `any[]`      | Кортеж типов аргументов функции задачи |
| R   | `any`     | -            | Тип возвращаемого значения задачи      |

###### Поля

| Имя    | Тип                 | Описание                                                     |
| ------ | ------------------- | ------------------------------------------------------------ |
| args   | `A`                 | Аргменты тела задачи                                         |
| error  | `String` или `null` | Ошибка выполнения, равняется `null` при успешном выполнении  |
| result | `R` или `null`      | Результат выполнения, равняется `null` при ошибке выполнения |

Все поля обязательны.

#### `class AsyncQueue`

Объект асинхронной очереди

##### Конструктор

###### `public new AsyncQueue()`

```typescript
import { AsyncQueue } from 'electron-rpc-async-queue';
const queue = new AsyncQueue();
```

##### Методы

###### `public push<A extends any[] = any[], R = any>(body: TaskBody<A, R>, ...args: A): Promise<TaskResult<A, R>>`

_Аргументы-типы_

| Имя | Расширяет | По умолчанию | Описание                               |
| --- | --------- | ------------ | -------------------------------------- |
| A   | `any[]`   | `any[]`      | Кортеж типов аргументов функции задачи |
| R   | -         | `any`        | Тип возвращаемого значения задачи      |

_Аргументы_

| Имя       | Тип              | Описание                                                                       |
| --------- | ---------------- | ------------------------------------------------------------------------------ |
| `body`    | `TaskBody<A, R>` | Функция для выполнения в очереди (будет выполнена после последней добавленной) |
| `...args` | `A`              | Аргументы функции (для `body`)                                                 |

_Возвращает_

`Promise<TaskResult<A, R>>` - `Promise`, который разрешается объектом `TaskResult<A, R>`.
